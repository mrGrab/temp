{"version":3,"sources":["../src/withField.js"],"names":["React","hoistStatics","isValidPath","emptyPathError","Field","withField","propName","config","Component","TypeError","path","WithField","PureComponent","render","fieldProps","props"],"mappings":";;AAAA;AAEA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB,C,CACA;;AACA,OAAOC,YAAP,MAAyB,yBAAzB,C,CACA;;AAGA,SAAQC,WAAR,EAAqBC,cAArB,QAA0C,QAA1C;AACA,OAAOC,KAAP,MAAkB,SAAlB;;AAEA,MAAMC,YAAY,CAChBC,QADgB,EAEhBC,MAFgB,KAIhBC,SADG,IAEwB;AAC3B,MAAI,OAAOF,QAAP,KAAoB,QAAxB,EAAkC;AAChC,UAAM,IAAIG,SAAJ,CAAc,+CAAd,CAAN;AACD;;AAED,MAAI,CAACF,MAAD,IAAW,OAAOA,MAAP,KAAkB,QAAjC,EAA2C;AACzC,UAAM,IAAIE,SAAJ,CAAc,4CAAd,CAAN;AACD;;AAED,MAAI,CAACP,YAAYK,OAAOG,IAAnB,CAAL,EAA+B;AAC7B,UAAM,IAAID,SAAJ,CAAcN,gBAAd,CAAN;AACD;;AAED,QAAMQ,SAAN,SAAwBX,MAAMY,aAA9B,CAA+C;AAC7CC,aAAS;AACP,aACE,oBAAC,KAAD,EAAWN,MAAX,EACIO,UAAD,IAAkC;AACjC,cAAMC,QAAQ,EAAd;AACAA,cAAMT,QAAN,IAAkBQ,UAAlB;AACA,eAAO,oBAAC,SAAD,eAAeC,KAAf,EAA0B,KAAKA,KAA/B,EAAP;AACD,OALH,CADF;AASD;;AAX4C;;AAc/C,SAAOd,aAAaU,SAAb,EAAwBH,SAAxB,CAAP;AACD,CAjCD;;AAmCA,eAAeH,SAAf","sourcesContent":["// @flow strict\n\nimport * as React from 'react';\n// flowlint untyped-import:off\nimport hoistStatics from 'hoist-non-react-statics';\n// flowlint untyped-import:error\n\nimport type {FieldRenderProps} from './types';\nimport {isValidPath, emptyPathError} from './util';\nimport Field from './Field';\n\nconst withField = <P: string>(\n  propName: P,\n  config: $Diff<React.ElementConfig<typeof Field>, {children: *}>,\n) => <T, R: {[P]: FieldRenderProps} & T>(\n  Component: React.ComponentType<T>,\n): React.ComponentType<R> => {\n  if (typeof propName !== 'string') {\n    throw new TypeError('Invalid withField prop name. Expected string.');\n  }\n\n  if (!config || typeof config !== 'object') {\n    throw new TypeError('Invalid withField config. Expected object.');\n  }\n\n  if (!isValidPath(config.path)) {\n    throw new TypeError(emptyPathError());\n  }\n\n  class WithField extends React.PureComponent<R> {\n    render() {\n      return (\n        <Field {...config}>\n          {(fieldProps: FieldRenderProps) => {\n            const props = {};\n            props[propName] = fieldProps;\n            return <Component {...props} {...this.props} />;\n          }}\n        </Field>\n      );\n    }\n  }\n\n  return hoistStatics(WithField, Component);\n};\n\nexport default withField;\n"],"file":"withField.js"}